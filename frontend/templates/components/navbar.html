<header>
    <nav class="navbar">
        <div class="navbar-container">
            <!-- Left side: Logo and menu items -->
            <div class="navbar-left">
                <div class="navbar-logo">
                    <a href="/">SpaceLogic</a>
                </div>
                <ul class="navbar-menu">
                    <li class="navbar-item">
                        <a href="{{ url_for('home') }}" class="navbar-link {% if request.path == '/' %}active{% endif %}">Home</a>
                    </li>
                    <li class="navbar-item">
                        <a href="{{ url_for('about') }}" class="navbar-link {% if request.path == '/about' %}active{% endif %}">About</a>
                    </li>
                    <li class="navbar-item">
                        <a href="{{ url_for('services') }}" class="navbar-link {% if request.path == '/services' %}active{% endif %}">Services</a>
                    </li>
                    <li class="navbar-item">
                        <a href="{{ url_for('contact') }}" class="navbar-link {% if request.path == '/contact' %}active{% endif %}">Contact</a>
                    </li>
                </ul>
            </div>

            <!-- Right side: Social icons and login -->
            <div class="navbar-right">
                <div class="social-icons">
                    <a href="#" class="social-icon" aria-label="Facebook">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
                        </svg>
                    </a>
                    <a href="#" class="social-icon" aria-label="Twitter">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"></path>
                        </svg>
                    </a>
                    <a href="#" class="social-icon" aria-label="Instagram">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                            <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
                            <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
                        </svg>
                    </a>
                </div>
                <div class="login-section">
                    {% if is_authenticated %}
                        <div class="user-menu">
                            <a href="{{ url_for('auth.profile') }}" class="user-profile">
                                <div class="user-avatar">{{ current_user_name[0] | upper }}</div>
                                <span class="user-name">{{ current_user_name }}</span>
                            </a>
                            <a href="{{ url_for('auth.logout') }}" class="logout-button">DÃ©connexion</a>
                        </div>
                    {% else %}
                        <a href="{{ url_for('auth.auth_page') }}" class="login-button">Log In</a>
                        <a href="{{ url_for('auth.auth_page', tab='signup') }}" class="signup-button">Sign Up</a>
                    {% endif %}
                </div>
            </div>

            <!-- Mobile menu toggle -->
            <div class="navbar-toggle" id="mobile-menu">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>
</header>

<style>
    /* Additional styles for user menu */
    .user-menu {
        display: flex;
        align-items: center;
    }

    .user-profile {
        display: flex;
        align-items: center;
        margin-right: 15px;
    }

    .user-avatar {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        background-color: #3498db;
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        margin-right: 8px;
    }

    .user-name {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        max-width: 150px;
    }

    .logout-button {
        padding: 8px 15px;
        border: 1px solid #e74c3c;
        border-radius: 5px;
        color: #e74c3c;
        transition: all 0.3s ease;
    }

    .logout-button:hover {
        background-color: #e74c3c;
        color: white;
    }

    @media screen and (max-width: 768px) {
        .user-menu {
            flex-direction: column;
            align-items: center;
            width: 100%;
        }

        .user-profile {
            margin-right: 0;
            margin-bottom: 10px;
            justify-content: center;
        }

        .logout-button {
            width: 100%;
            text-align: center;
        }
    }
</style>